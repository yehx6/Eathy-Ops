# Eathy 小红书自动化配置
# API Key 使用 ${ENV_VAR} 引用环境变量

# MiniMax API — 用于信息筛选 + 文案生成（Anthropic 兼容接口）
minimax:
  api_type: openai   # anthropic | openai
  api_key: ${MINIMAX_API_KEY}
  model: ep-20250519074358-62ktw
  base_url: https://ark.cn-beijing.volces.com/api/v3/chat/completions

# 图片生成 — api_type: gemini (默认) | doubao
imagen:
  api_type: doubao
  api_key: ${IMAGEN_API_KEY}
  model: doubao-seedream-4-5-251128
  number_of_images: 3
  image_size: "2048x2720"  # doubao 用像素尺寸(最小3686400px)，gemini 用宽高比如 "3:4"
  base_url: https://ark.cn-beijing.volces.com/api/v3/images/generations

# 信息采集
collect:
  rss_feeds:
    - name: "FDA Food Safety"
      url: "https://www.fda.gov/about-fda/contact-fda/stay-informed/rss-feeds/food-safety-recalls/rss.xml"
      lang: en
    - name: "Healthline Nutrition"
      url: "https://www.healthline.com/rss/nutrition"
      lang: en
    - name: "EWG News"
      url: "https://www.ewg.org/rss.xml"
      lang: en
    - name: "Medical News Today"
      url: "https://www.medicalnewstoday.com/rss/nutrition-news.xml"
      lang: en
  news_api:
    api_key: ${NEWS_API_KEY}
    queries:
      - "食品安全 成分"
      - "food ingredient safety"
      - "cosmetic ingredient analysis"
      - "健康饮食 配料表"
      - "food additive health"
    language: ["zh", "en"]
    max_results: 20
  max_age_hours: 48

# 内容筛选
filter:
  max_candidates: 15
  relevance_threshold: 0.7

# 发布
publish:
  mcp_server_url: "http://localhost:18060/mcp"
  images_host_dir: "E:/rss/xiaohongshu_mcp/images"    # 宿主机挂载目录
  images_container_dir: "/app/images"                   # Docker 容器内路径
  images_per_post: 3
  dry_run: false

# 输出
output:
  dir: ./output
  history_file: ./data/history.json
  log_dir: ./data/logs

# 定时调度
schedule:
  times: ["08:00", "12:00", "20:00"]
  jitter_minutes: 30
  timezone: Asia/Shanghai

# 提示词配置
prompts:
  filter: prompts/filter/default.yaml
  copywrite: prompts/copywrite/styles.yaml
  image: prompts/image/styles.yaml
